RSpec.describe AbiCoderRb do
  # age: uint256 = 25
  # name: string = "Alice"
  it "does something useful" do
    data =
      "0x0000000000000000000000000000000000000000000000000000000000000019" \
        "0000000000000000000000000000000000000000000000000000000000000020" \
        "0000000000000000000000000000000000000000000000000000000000000005" \
        "416C696365000000000000000000000000000000000000000000000000000000"

    types = "uint256,string"

    decoder = AbiCoderRb::Decoder.new
    p decoder.decode(types, data)
  end

  # string,uint256,string
  # aki,33,wu
  # 0000000000000000000000000000000000000000000000000000000000000060  96 -> aki
  # 0000000000000000000000000000000000000000000000000000000000000021  0x21 == 33
  # 00000000000000000000000000000000000000000000000000000000000000a0  160 -> wu
  # 0000000000000000000000000000000000000000000000000000000000000003  <- aki.length
  # 616b690000000000000000000000000000000000000000000000000000000000  <- aki
  # 0000000000000000000000000000000000000000000000000000000000000002  <- wu.length
  # 7775000000000000000000000000000000000000000000000000000000000000  <- wu
  it "helo" do
    data = AbiCoderRb.hex_to_bin "0000000000000000000000000000000000000000000000000000000000000060000000000000000000000000000000000000000000000000000000000000002100000000000000000000000000000000000000000000000000000000000000a00000000000000000000000000000000000000000000000000000000000000003616b69000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000027775000000000000000000000000000000000000000000000000000000000000"
    types = %w[string uint256 string]
    decoder = AbiCoderRb::Decoder.new
    p decoder.decode(types, data)
  end
end
